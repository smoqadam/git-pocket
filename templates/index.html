<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitPocket - Personal Archive</title>
    <link rel="stylesheet" href="./templates/assets/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö GitPocket</h1>
            <p>Your Personal Article Archive</p>
        </div>
        
        <div class="search-container">
            <input type="text" id="searchBox" class="search-box" placeholder="Search articles by title or author...">
            <div class="stats">
                <span>Total articles: {total_count}</span>
            </div>
        </div>

        <div class="articles-grid" id="articlesGrid">
            {articles_html}
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <p>No articles match your search criteria.</p>
        </div>
    </div>

    <a href="./rss.xml" class="rss-link" title="RSS Feed">
        üì° RSS
    </a>

    <footer style="text-align:center; color:#888; font-size:0.98em; margin: 60px 0 20px 0;">
        <span>
            Made with ‚ù§Ô∏è ‚Äî <a href="https://github.com/smoqadam/git-pocket" target="_blank" style="color:#181818;text-decoration:underline;">GitPocket on GitHub</a>
        </span>
    </footer>

    <script>
        const searchBox = document.getElementById('searchBox');
        const articlesGrid = document.getElementById('articlesGrid');
        const noResults = document.getElementById('noResults');
        const articleCards = document.querySelectorAll('.article-card');

        searchBox.addEventListener('input', function() {{
            const query = this.value.toLowerCase().trim();
            let visibleCount = 0;

            articleCards.forEach(card => {{
                const title = card.dataset.title || '';
                const author = card.dataset.author || '';
                
                const matches = title.includes(query) || 
                               author.includes(query);

                if (matches) {{
                    card.style.display = '';
                    visibleCount++;
                }} else {{
                    card.style.display = 'none';
                }}
            }});

            if (visibleCount === 0 && query !== '') {{
                noResults.style.display = 'block';
            }} else {{
                noResults.style.display = 'none';
            }}
        }});
    </script>
</body>
</html>